Jerry Shaw (Shia LaBeouf) is a Stanford University dropout who learns his identical twin brother Ethan, a first lieutenant in the US Air Force, has been killed.
Following the funeral, Jerry is surprised to find $750,000 in his bank account.
Later he finds his Chicago apartment filled with weapons, ammonium nitrate, classified DOD documents, and forged passports.
He receives a phone call from a woman (Julianne Moore) who warns that the FBI is about to arrest him and he needs to run.
Disbelieving, Jerry is caught by the FBI and interrogated by Supervising Agent Tom Morgan (Billy Bob Thornton). While Morgan confers with Air Force OSI Special Agent Zoe Pérez (Rosario Dawson), the woman on the phone arranges for Jerry's escape and directs him to Rachel Holloman (Michelle Monaghan), a single mother.
The woman on the phone is coercing Rachel by threatening her son Sam (Cameron Boyce), who is en route to the Kennedy Center in Washington, D.C. with his school band.
The woman on the phone helps the two avoid the Chicago police and FBI, using an ability to control networked devices, including traffic lights, mobile phones, automated cranes, and even power lines.
Meanwhile, the woman on the phone redirects a crystal of powerful DOD explosive—hexamethylene—to a gemcutter, who cuts it and fixes it into a necklace.
Another man (Anthony Azizi) steals Sam's trumpet in Chicago and fits the crystal's sonic trigger into the tubing, before forwarding it to Sam in Washington, D.C.
Agent Perez is summoned by Secretary of Defense George Callister (Michael Chiklis) to be read into Ethan's job at the Pentagon.
Ethan monitored the DOD's top secret intelligence-gathering supercomputer, the Autonomous Reconnaissance Intelligence Integration Analyst (ARIIA). Callister leaves Perez with Major William Bowman (Anthony Mackie) and ARIIA to investigate Ethan Shaw's death.
Simultaneously, Rachel and Jerry learn that the woman on the phone is actually ARIIA, and that she has "activated" them according to the Constitution's authorization to recruit civilians for the national defense.
Perez and Bowman find evidence which Ethan Shaw had hidden in ARIIA's chamber the night he died, and leave to brief Callister.
Afterwards, ARIIA smuggles Jerry and Rachel into her observation theater under the Pentagon.
Both groups learn that after ARIIA's recommendation was ignored and a botched operation in Balochistan resulted in the deaths of American citizens, ARIIA concluded that "to prevent more bloodshed, the executive branch must be removed." Acting on behalf of "We the People", and citing the Declaration of Independence ("whenever any Form of Government becomes destructive of these ends, it is the Right of the People to alter or to abolish it"), ARIIA is acting in compliance with Section 216 of the Patriot Act which "allows us to circumvent probable cause in the face of a national security threat, in this case, the chain of command itself."
Belatedly, Jerry learns he has been brought to circumvent biometric locks placed by his twin that prevent ARIIA from bringing into effect Operation Guillotine, a military simulation of maintaining government after the loss of all presidential successors.
Because Secretary Callister agreed with ARIIA's abort recommendation regarding Balochistan, he is to be the designated survivor after the hexamethylene detonates at the State of the Union (SOTU).
One of ARIIA's agents (Nick Searcy) extracts Rachel from the Pentagon and gives her a dress and the explosive necklace to wear to the SOTU.
Sam's school band has also been redirected to the United States Capitol to play for the president, bringing the trigger in Sam's trumpet and the explosive together.
Jerry is recaptured by Agent Morgan, who has become convinced of Jerry's innocence.
Elsewhere, Morgan sacrifices himself to stop an armed MQ-9 Reaper sent by ARIIA, but first gives Jerry his weapon and ID with which to gain entrance to the Capitol.
Arriving in the House Chamber, Jerry fires the handgun in the air to disrupt the concert before being shot and wounded by the Secret Service.
Sometime later, Callister reports that ARIIA has been decommissioned and recommends against building another; the Shaw twins and Agents Perez and Morgan receive awards for their actions.
Jerry attends Sam's birthday party, earning Rachel's gratitude and a kiss.